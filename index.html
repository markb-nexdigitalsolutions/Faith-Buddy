<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faith Buddy - Daily Spiritual Guidance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .fade-in { animation: fadeIn 0.6s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üôè Faith Buddy</h1>
            <p class="text-white/80 text-lg">Your daily companion for spiritual guidance and encouragement</p>
        </div>

        <!-- Main Input Card -->
        <div class="bg-white rounded-2xl card-shadow p-8 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">How are you feeling today?</h2>
            <form id="feelingForm" class="space-y-4">
                <textarea 
                    id="feelingInput" 
                    placeholder="Share what's on your heart today... (e.g., 'I'm feeling anxious about work' or 'I'm grateful but need strength')"
                    class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none resize-none h-32 text-gray-700"
                    required
                ></textarea>
                <button 
                    type="submit" 
                    class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold py-4 px-6 rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all duration-300 transform hover:scale-105"
                >
                    Get Spiritual Guidance ‚ú®
                </button>
            </form>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="hidden space-y-6">
            <!-- Bible Verses Card -->
            <div class="bg-white rounded-2xl card-shadow p-6 fade-in">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">üìñ</span>
                    <h3 class="text-xl font-semibold text-gray-800">Bible Verses for You</h3>
                </div>
                <div id="bibleVersesContainer" class="space-y-4"></div>
            </div>

            <!-- Motivational Message Card -->
            <div class="bg-white rounded-2xl card-shadow p-6 fade-in">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">üí™</span>
                    <h3 class="text-xl font-semibold text-gray-800">Encouragement</h3>
                </div>
                <p id="motivationalMessage" class="text-gray-700 leading-relaxed"></p>
            </div>

            <!-- Mini Sermon Card -->
            <div class="bg-white rounded-2xl card-shadow p-6 fade-in">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">üïäÔ∏è</span>
                    <h3 class="text-xl font-semibold text-gray-800">Mini Sermon</h3>
                </div>
                <div id="miniSermon" class="text-gray-700 leading-relaxed space-y-3"></div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4">
                <button 
                    id="shareBtn" 
                    class="flex-1 bg-green-600 text-white font-semibold py-3 px-6 rounded-xl hover:bg-green-700 transition-colors duration-300"
                >
                    Share This Guidance üì§
                </button>
                <button 
                    id="newGuidanceBtn" 
                    class="flex-1 bg-gray-600 text-white font-semibold py-3 px-6 rounded-xl hover:bg-gray-700 transition-colors duration-300"
                >
                    Get New Guidance üîÑ
                </button>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-12 text-white/70">
            <p>May God's peace be with you today and always ü§ç</p>
        </div>
    </div>

    <script>
        const bibleVerses = {
            anxious: [
                { verse: "Be careful for nothing; but in every thing by prayer and supplication with thanksgiving let your requests be made known unto God. And the peace of God, which passeth all understanding, shall keep your hearts and minds through Christ Jesus.", reference: "Philippians 4:6-7 KJV" },
                { verse: "Casting all your care upon him; for he careth for you.", reference: "1 Peter 5:7 KJV" },
                { verse: "In the multitude of my thoughts within me thy comforts delight my soul.", reference: "Psalm 94:19 KJV" },
                { verse: "Fear thou not; for I am with thee: be not dismayed; for I am thy God: I will strengthen thee; yea, I will help thee; yea, I will uphold thee with the right hand of my righteousness.", reference: "Isaiah 41:10 KJV" }
            ],
            sad: [
                { verse: "The Lord is nigh unto them that are of a broken heart; and saveth such as be of a contrite spirit.", reference: "Psalm 34:18 KJV" },
                { verse: "He healeth the broken in heart, and bindeth up their wounds.", reference: "Psalm 147:3 KJV" },
                { verse: "Weeping may endure for a night, but joy cometh in the morning.", reference: "Psalm 30:5 KJV" },
                { verse: "Come unto me, all ye that labour and are heavy laden, and I will give you rest.", reference: "Matthew 11:28 KJV" }
            ],
            grateful: [
                { verse: "O give thanks unto the Lord; for he is good: for his mercy endureth for ever.", reference: "Psalm 107:1 KJV" },
                { verse: "In every thing give thanks: for this is the will of God in Christ Jesus concerning you.", reference: "1 Thessalonians 5:18 KJV" },
                { verse: "O come, let us sing unto the Lord: let us make a joyful noise to the rock of our salvation. Let us come before his presence with thanksgiving, and make a joyful noise unto him with psalms.", reference: "Psalm 95:1-2 KJV" },
                { verse: "Enter into his gates with thanksgiving, and into his courts with praise: be thankful unto him, and bless his name.", reference: "Psalm 100:4 KJV" }
            ],
            overwhelmed: [
                { verse: "Come unto me, all ye that labour and are heavy laden, and I will give you rest.", reference: "Matthew 11:28 KJV" },
                { verse: "Cast thy burden upon the Lord, and he shall sustain thee: he shall never suffer the righteous to be moved.", reference: "Psalm 55:22 KJV" },
                { verse: "And he said unto me, My grace is sufficient for thee: for my strength is made perfect in weakness.", reference: "2 Corinthians 12:9 KJV" },
                { verse: "But they that wait upon the Lord shall renew their strength; they shall mount up with wings as eagles; they shall run, and not be weary; and they shall walk, and not faint.", reference: "Isaiah 40:31 KJV" }
            ],
            lonely: [
                { verse: "Be strong and of a good courage, fear not, nor be afraid of them: for the Lord thy God, he it is that doth go with thee; he will not fail thee, nor forsake thee.", reference: "Deuteronomy 31:6 KJV" },
                { verse: "Yea, though I walk through the valley of the shadow of death, I will fear no evil: for thou art with me; thy rod and thy staff they comfort me.", reference: "Psalm 23:4 KJV" },
                { verse: "God setteth the solitary in families: he bringeth out those which are bound with chains: but the rebellious dwell in a dry land.", reference: "Psalm 68:6 KJV" },
                { verse: "I will never leave thee, nor forsake thee.", reference: "Hebrews 13:5 KJV" }
            ],
            default: [
                { verse: "For I know the thoughts that I think toward you, saith the Lord, thoughts of peace, and not of evil, to give you an expected end.", reference: "Jeremiah 29:11 KJV" },
                { verse: "Trust in the Lord with all thine heart; and lean not unto thine own understanding.", reference: "Proverbs 3:5 KJV" },
                { verse: "I can do all things through Christ which strengtheneth me.", reference: "Philippians 4:13 KJV" },
                { verse: "And we know that all things work together for good to them that love God, to them who are the called according to his purpose.", reference: "Romans 8:28 KJV" }
            ]
        };

        const motivationalMessages = {
            anxious: [
                "Remember, God has not given you a spirit of fear, but of power, love, and sound mind. Your worries are valid, but they don't define your future. Take one breath at a time, one step at a time, and trust that God is working all things together for your good.",
                "Anxiety whispers lies about tomorrow, but God speaks truth about today. You are loved, you are protected, and you are never alone in your struggles. Let His peace wash over your worried heart."
            ],
            sad: [
                "Your tears are not unnoticed by God. He collects every one and promises that joy will come in the morning. This season of sadness will pass, and you will emerge stronger and more compassionate.",
                "It's okay to not be okay right now. God meets us in our lowest moments and lifts us up with His unfailing love. Your sadness is temporary, but His love for you is eternal."
            ],
            grateful: [
                "Your grateful heart is a beautiful reflection of God's goodness in your life. Continue to count your blessings, for gratitude transforms ordinary moments into extraordinary gifts.",
                "Gratitude is the key that unlocks the fullness of life. Your thankful spirit not only blesses you but also becomes a light that shines hope into the lives of others around you."
            ],
            overwhelmed: [
                "When life feels like too much, remember that God's strength is made perfect in your weakness. You don't have to carry everything alone - cast your burdens on Him and find rest for your soul.",
                "Being overwhelmed is not a sign of failure; it's a reminder that you're human and need God's help. Take things one moment at a time, and trust that He will provide the strength you need for each step."
            ],
            lonely: [
                "In your loneliness, know that God is your constant companion. He sees you, knows you completely, and loves you unconditionally. You are never truly alone when you have Him by your side.",
                "Loneliness can feel heavy, but it can also be a sacred space where you draw closer to God. Use this time to deepen your relationship with Him, and trust that He will bring the right people into your life at the right time."
            ],
            default: [
                "God has amazing plans for your life, even when you can't see the full picture. Trust His timing, embrace His love, and know that you are exactly where you need to be in this moment.",
                "You are fearfully and wonderfully made by a God who loves you beyond measure. Whatever you're facing today, remember that His grace is sufficient and His love never fails."
            ]
        };

        const miniSermons = {
            anxious: {
                title: "Finding Peace in the Storm",
                content: "Anxiety is like a storm that rages in our minds, creating waves of worry that seem impossible to calm. But Jesus showed us something powerful when He slept peacefully in a boat during a literal storm. His disciples were terrified, but He was at rest because He knew His Father was in control.\n\nThe same God who calmed the seas with a word is the same God who can calm the storms in your heart. When anxiety tries to steal your peace, remember that worry has never added a single day to anyone's life, but trust in God has sustained countless souls through their darkest hours.\n\nToday, choose to anchor your thoughts not in 'what if' but in 'even if.' Even if things don't go as planned, God is still good. Even if you can't see the way forward, God is still leading. Your anxiety is not stronger than His love for you."
            },
            sad: [
                {
                    title: "Beauty from Ashes",
                    content: "Sadness is not the enemy of faith; it's often the birthplace of deeper trust. When we're sad, we're reminded of our humanity and our need for something greater than ourselves. God doesn't waste our pain - He uses it to create something beautiful.\n\nThink of a pearl, formed when an oyster responds to irritation by creating something precious. Your sadness, though painful, can become the very thing that produces compassion, empathy, and a deeper understanding of God's love.\n\nDon't rush through your sadness or feel guilty for feeling it. Instead, let it drive you closer to the One who promises to turn your mourning into dancing and your sorrow into joy. Your current chapter of sadness is not your final story."
                }
            ],
            grateful: [
                {
                    title: "The Power of a Thankful Heart",
                    content: "Gratitude is more than just good manners - it's a spiritual discipline that transforms our entire perspective. When we choose thankfulness, we align our hearts with God's heart and begin to see our lives through His eyes.\n\nA grateful heart doesn't deny problems or pretend everything is perfect. Instead, it chooses to focus on God's faithfulness in the midst of imperfection. It remembers His past provisions while trusting His future promises.\n\nYour gratitude today is a seed that will grow into greater joy tomorrow. As you continue to thank God for His blessings, you'll find that your capacity to receive and recognize His goodness expands. Let your thankful heart be a testimony to others of God's unfailing love."
                }
            ],
            overwhelmed: [
                {
                    title: "One Step at a Time",
                    content: "When life feels overwhelming, we often make the mistake of trying to solve everything at once. But God never intended for us to carry tomorrow's burdens with today's strength. He gives us grace for this moment, wisdom for this decision, and strength for this step.\n\nJesus taught us to pray for our 'daily bread' - not weekly bread or monthly bread, but daily bread. This reminds us that God's provision comes one day at a time, and His grace is sufficient for each moment as it comes.\n\nWhen you feel overwhelmed, stop and breathe. Ask God to help you identify the one next thing He wants you to focus on. Trust that as you take care of today's responsibilities with His help, tomorrow's challenges will be met with tomorrow's grace."
                }
            ],
            lonely: [
                {
                    title: "Never Truly Alone",
                    content: "Loneliness is one of the deepest human experiences, but it can also be one of the most sacred. In our loneliness, we discover that human companionship, while wonderful, cannot fill the God-shaped hole in our hearts. Only He can satisfy our deepest longing for connection.\n\nSome of the most beautiful relationships with God have been forged in seasons of loneliness. When earthly companions are absent, we learn to find our comfort, strength, and joy in the One who never leaves us nor forsakes us.\n\nYour loneliness is not a punishment or a sign that something is wrong with you. It may be God's invitation to draw closer to Him and to discover the depth of His love for you. In His presence, you'll find that you are never truly alone."
                }
            ],
            default: [
                {
                    title: "God's Perfect Timing",
                    content: "Life rarely unfolds according to our timeline, and that can be frustrating. We want answers now, solutions today, and breakthroughs immediately. But God operates on a different schedule - one that's always perfect, even when it doesn't feel that way to us.\n\nGod's timing is not about making us wait for the sake of waiting. It's about preparing us for what He has in store. Every delay is an opportunity for growth, every waiting period is a chance to develop trust, and every 'not yet' is preparing us for a 'yes' that will be better than we imagined.\n\nTrust that God is working behind the scenes of your life, orchestrating details you can't see and preparing blessings you haven't even thought to ask for. His timing is always worth the wait."
                }
            ]
        };

        function detectEmotion(text) {
            const lowerText = text.toLowerCase();
            if (lowerText.includes('anxious') || lowerText.includes('worried') || lowerText.includes('nervous') || lowerText.includes('stress')) return 'anxious';
            if (lowerText.includes('sad') || lowerText.includes('depressed') || lowerText.includes('down') || lowerText.includes('hurt')) return 'sad';
            if (lowerText.includes('grateful') || lowerText.includes('thankful') || lowerText.includes('blessed') || lowerText.includes('appreciate')) return 'grateful';
            if (lowerText.includes('overwhelmed') || lowerText.includes('too much') || lowerText.includes('burden') || lowerText.includes('exhausted')) return 'overwhelmed';
            if (lowerText.includes('lonely') || lowerText.includes('alone') || lowerText.includes('isolated') || lowerText.includes('disconnected')) return 'lonely';
            return 'default';
        }

        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function displayGuidance(emotion) {
            const versesArray = bibleVerses[emotion] || bibleVerses.default;
            const selectedVerses = [];
            
            // Get 2-3 random verses without duplicates
            const numVerses = Math.min(3, versesArray.length);
            const shuffled = [...versesArray].sort(() => 0.5 - Math.random());
            for (let i = 0; i < numVerses; i++) {
                selectedVerses.push(shuffled[i]);
            }

            const message = getRandomItem(motivationalMessages[emotion] || motivationalMessages.default);
            const sermon = getRandomItem(miniSermons[emotion] || miniSermons.default);

            // Display multiple Bible verses
            const versesContainer = document.getElementById('bibleVersesContainer');
            versesContainer.innerHTML = selectedVerses.map(verse => `
                <div class="border-l-4 border-purple-300 pl-4 py-2">
                    <blockquote class="text-gray-700 italic text-lg leading-relaxed mb-2">"${verse.verse}"</blockquote>
                    <cite class="text-purple-600 font-medium">- ${verse.reference}</cite>
                </div>
            `).join('');

            document.getElementById('motivationalMessage').textContent = message;
            
            const sermonDiv = document.getElementById('miniSermon');
            sermonDiv.innerHTML = `
                <h4 class="font-semibold text-lg text-purple-700 mb-3">${sermon.title}</h4>
                ${sermon.content.split('\n\n').map(paragraph => `<p class="mb-3">${paragraph}</p>`).join('')}
            `;

            document.getElementById('resultsContainer').classList.remove('hidden');
            document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth' });
        }

        document.getElementById('feelingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const feeling = document.getElementById('feelingInput').value.trim();
            if (feeling) {
                const emotion = detectEmotion(feeling);
                displayGuidance(emotion);
            }
        });

        document.getElementById('shareBtn').addEventListener('click', function() {
            const versesContainer = document.getElementById('bibleVersesContainer');
            const verses = Array.from(versesContainer.querySelectorAll('div')).map(div => {
                const verse = div.querySelector('blockquote').textContent;
                const reference = div.querySelector('cite').textContent;
                return `${verse} ${reference}`;
            }).join('\n\n');
            
            const shareText = `${verses}\n\nShared from Faith Buddy üôè`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Faith Buddy - Spiritual Guidance',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Guidance copied to clipboard! üìã');
                });
            }
        });

        document.getElementById('newGuidanceBtn').addEventListener('click', function() {
            document.getElementById('feelingInput').value = '';
            document.getElementById('resultsContainer').classList.add('hidden');
            document.getElementById('feelingInput').focus();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9815af882387fedc',t:'MTc1ODI0OTI4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
